import { createSupabaseServerClient } from "@/lib/supabase-server"
import { requireUser } from "@/lib/auth"

export default async function MyClippingJobs() {
  const user = await requireUser()
  const supabase = await createSupabaseServerClient()

  const { data } = await supabase
    .from("clipping_jobs")
    .select("*, clipping_applications(*)")
    .eq("creator_id", user.id)

  return JSON.stringify(data, null, 2)
}